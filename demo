package com.example.demo.controller;

import com.example.demo.model.Student;
import com.example.demo.model.ReportCard;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;

@RestController
@RequestMapping("/api")
public class StudentController {

    @PostMapping("/report")
    public ResponseEntity<ReportCard> whocares(@RequestBody Student student) {
        String grade;

        if (student.getScience() > 75 && student.getMaths() > 75) {
            grade = "Good";
            return new ResponseEntity<>(new ReportCard(student.getRollno(), student.getName(), grade), HttpStatus.OK);
        } else {
            grade = "Average";
            return new ResponseEntity<>(new ReportCard(student.getRollno(), student.getName(), grade), HttpStatus.NOT_ACCEPTABLE);
        }
    }
}